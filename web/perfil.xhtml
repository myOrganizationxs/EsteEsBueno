<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./masterPage.xhtml">

            <ui:define name="content">
                
        <h2 align="center">Mi perfil</h2>      
        <h:form id="frmCuenta">
            <p:growl id="mensajeGeneral" showDetail="true" sticky="false" />
            
            <p:dataList style=" list-style-type: none; border:none;" id="tablaCuenta"  var="item" value="#{MbRequest.cuentas}" paginator="false" rows="1"> 
                <p:panelGrid columns="2">
                 
                    <h:outputText style="font-weight: bold;" value="id Usuario"/>
                    <h:outputText  value="#{item[1].idUsuario}"/>
                    
                    <h:outputText style="font-weight: bold;" value="foto"/>
                    <h:outputText  value="#{item}"/>
                
                 <h:outputText style="font-weight: bold;" value="Ultima conexion:"/>
                    <h:outputText  value="#{item[0].ultimaConexion}"/>
                
                 <h:outputText style="font-weight: bold;" value="Fecha de creacion:"/>
                    <h:outputText  value="#{item[0].fechaCreacion}"/>
                
                 <h:outputText style="font-weight: bold;" value="Contraseña:"/>
                    <h:outputText  value="#{item[0].contrasena}"/>
                
                 <h:outputText style="font-weight: bold;" value="Usuario:"/>
                    <h:outputText  value="#{item[0].usuario}"/>
                
                
                 <h:outputText style="font-weight: bold;" value="Nombre:"/>
                    <h:outputText  value="#{item[1].nombreUsu}"/>
               
                 <h:outputText style="font-weight: bold;" value="Apellido Paterno:"/>
                    <h:outputText  value="#{item[1].apellidoPaterno}"/>
               
                 <h:outputText style="font-weight: bold;" value="Apellido Materno:"/>
                    <h:outputText  value="#{item[1].apellidoMaterno}"/>
                
                 <h:outputText style="font-weight: bold;" value="correo:"/>
                    <h:outputText  value="#{item[1].correoElectro}"/>
                
                 <h:outputText style="font-weight: bold;" value="Telefono:"/>
                    <h:outputText value="#{item[1].telefono}"/>
                 
            
                </p:panelGrid>    
                 <h:panelGrid columns="1" cellpadding="5" >
                <p:commandButton class="btn-primary" value="Modificar" type="button" onclick="PF('dlg6').show();" />
            </h:panelGrid>
                
                
            <p:dialog style="z-index:1;" header="Modificar" modal="true" widgetVar="dlg6" showEffect="clip" hideEffect="clip">
                <h:form>
                <h:panelGrid columns="2">
                    <h:outputText value="Nombre:"></h:outputText><h:inputText value="#{item[1].nombreUsu}"></h:inputText>
                    <h:outputText value="Apellido Paterno:"></h:outputText><h:inputText value="#{item[1].apellidoPaterno}"></h:inputText>
                    <h:outputText value="Apellido Materno:"></h:outputText><h:inputText value="#{item[1].apellidoMaterno}"></h:inputText>
                    <h:outputText value="Correo electronico:"></h:outputText><h:inputText value="#{item[1].correoElectro}"></h:inputText>
                    <h:outputText value="Telefono:"></h:outputText><h:inputText value="#{item[1].telefono}"></h:inputText>
                    <h:outputText value="Contraseña:"></h:outputText ><h:inputText value="#{item[0].contrasena}"></h:inputText>
                    <h:outputText value="ingresa de nuevo tu contraseña"></h:outputText><h:inputText></h:inputText>                    
                    <p:commandButton class="btn-group-vertical" value="Guardar" />
                </h:panelGrid>
                </h:form>
                 </p:dialog  >
                    
            </p:dataList>            
        </h:form>
                <h:form id="foto" enctype="multipart/form-data">
                    <p:graphicImage value="#{FacesContext.getCurrentInstance().getExternalContext()}/fotoUsuario/#{MbFoto.idFoto}.png"></p:graphicImage>
                        <p:fileUpload id="fotox" value="#{MbFoto.foto}" mode="simple" /> 
                        <p:commandButton value="Actualizar foto" ajax="false" actionListener="#{MbFoto.actualizarFoto()}"/>
                    
                    </h:form>
        
            </ui:define>

        </ui:composition>

    </body>
</html>
