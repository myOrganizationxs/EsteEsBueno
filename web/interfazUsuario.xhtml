<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    <body>

        <ui:composition template="./masterPage.xhtml">

            <ui:define name="content">
                 
                <div style="width:100%; height:120px;">
                <div id="mundo">
                    <div class="frontal"></div>
                    <div class="mapfront"></div>
                    <div class="mapback"></div>
                    <div class="back"></div>
                </div>
                
                <h2 align="center"><h:outputText  id="IdOrganizacion" class="Titulos" value="#{MbViewOrganizacion.nombreOrganizacion}"/></h2>
                <input type="hidden" id="NodosHijos" value="#{MbTree.nodoCentro}"></input>
                </div>
                
                    <div  id="divMVO" style="margin-left:2%; position:relative; top:80px;">
                        <h:form id="formMVO">
                            <h:panelGrid columns="1" cellpadding="5" >
                                <p:commandButton value="Mision" type="button" class="menuboton" onclick="PF('dlg1').show();" />
                                <p:commandButton value="Vision" type="button" class="menuboton" onclick="PF('dlg2').show();" />
                                <p:commandButton value="Objetivos" type="button" class="menuboton" onclick="PF('dlg3').show();" />
                            </h:panelGrid>
                            <p:dialog style="z-index:1;" header="Mision" widgetVar="dlg1" showEffect="clip" hideEffect="clip" width="860" height="75" position="24,535" >
                                <h:outputText  value="Transformar las organizaciones de complicadas y disfuncionales a complejas, fluidas y funcionales" />                        
                            </p:dialog>
                            <p:dialog header="Vision" widgetVar="dlg2" showEffect="clip" hideEffect="clip" width="885" height="75" position="20,535">
                                <h:outputText value="Mision de la empresa" />
                            </p:dialog>
                            <p:dialog header="Objetivos" widgetVar="dlg3" showEffect="clip" hideEffect="clip" width="250" height="75" position="20,535">
                                <h:panelGrid columns="1">
                                    <p:commandButton value="Objetivos Cualitativos" class="btn-block" action="#{MbEnviarMensaje.bandejaSalida()}" />
                                    <p:commandButton value="Objetivos Cuantitativos" class="btn-block" action="#{MbObjetivos.enviarCuantitavos()}" />
                                </h:panelGrid>
                            </p:dialog>
                        </h:form>
                        </div>
                        <p:dialog style="overflow:hidden; background:graytext; opacity:.8; border-radius: 10px; " modal="true" header="Datos" widgetVar="dlg5" showEffect="clip" hideEffect="clip" width="885" height="440" position="20,170">
                            <div style="border-radius:100px; width:400px; height:400px;" class="row">
                                <div  style="border-radius:100px; width:400px; height:400px;" class="col-sm-6 col-md-3">
                                  <a id="bal" style="border-radius:100px; width:400px; height:400px;" href="#" class="thumbnail">
                                   
                                  </a>
                                </div>
                                ...
                            </div>
                            <h:panelGrid style="position:relative; bottom:400px; float:right;" columns="1">
                            <p:commandButton style="width:250px; margin: 5px;" value="Enviar Mensaje" class="btn-block" action="#{MbEnviarMensaje.enviarMensaje()}" />
                            <p:commandButton style="width:250px; margin: 5px;" value="Perfil Cerebral" class="btn-block" /> 
                            <p:commandButton style="width:250px; margin: 5px;" value="Estructura Funcional" class="btn-block" /> 
                            </h:panelGrid>
                        </p:dialog>  
                    
                <div id="barraArbol">
                    <h:form id="formArbol">           
                        <p:tree class="arbol" value="#{MbTree.root}" var="node" dynamic="false" selection="#{MbTree.singleSelectedTreeNode}" selectionMode="single">
                             <p:treeNode>
                                 <h:outputText style="color:whitesmoke;" value="#{node}"  />
                             </p:treeNode>
                            <p:ajax event="select" listener="#{MbTree.onNodeSelect}" onstart="RemoverSphere()" update=":formAnimacion"></p:ajax>
                        </p:tree>
                     </h:form>
                </div>
                   
                 <div id="render" >
                     <h:outputScript library="js" name="Three.js"/>
                    <h:outputScript library="js" name="Detector.js"/>
                    <h:outputScript library="js" name="Stats.js"/>
                    <h:outputScript library="js" name="OrbitControls.js"/>
                    <h:outputScript library="js" name="THREEx.KeyboardState.js"/>
                    <h:outputScript library="js" name="THREEx.FullScreen.js"/>
                    <h:outputScript library="js" name="THREEx.WindowResize.js"/>
                    <h:outputScript library="js" name="threex.domevents.js"/>
                 <h:outputScript library="js" name="CanvasAnimcion.js"/>
                    <p:breadCrumb class="breadcumb">
                        <p:menuitem value="Direccion General" class="navbar-brand" url="#"/>
                        <p:menuitem value="Recursos Financieros" class="navbar-header-inverse menu-bread" url="#" />
                    </p:breadCrumb>
                     <h3 class="tituloDepa" align="center"><h:outputText style="color:red;" value="" ></h:outputText></h3>   
                    
                    
                         
                     
                     
                    
                        
                    </div>
                <h:form id="formAnimacion">
                    <input type="hidden" id="NodosHijos" value="#{MbTree.nodoCentro}"></input>
                    <!--<h3 class="tituloDepa" align="center"><h:outputText style="color:red;" value="" ></h:outputText></h3>-->
                 <script>
            recarga();
               
                 </script>
                 
                </h:form>
                
                
                    
            </ui:define>

        </ui:composition>

    </body>
</html>
