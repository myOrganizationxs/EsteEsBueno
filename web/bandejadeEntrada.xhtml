<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <body >

        <ui:composition template="./masterPage.xhtml">

            <ui:define name="content">         
    <h3 align="center">Bandeja de Entrada</h3>
    <p:dataTable var="item" paginator="true" rows="2" value="#{MbEnviarMensaje.byListaReceptor}">
    
    <p:column headerText="ID">
        <h:outputText value="#{item[0].idMensajes} " />
    </p:column>
    
    <p:column headerText="Emisor">
        <h:outputText value="#{item[2].nombreUsu} " /><h:outputText value="#{item[2].apellidoPaterno} " /> <h:outputText value="#{item[2].apellidoMaterno}" />
    </p:column>
                        
    <p:column headerText="Mensaje/peticion">
        <h:outputText value="#{item[0].peticion} " />
    </p:column>
        
    <p:column headerText="Fecha y hora de envio">
        <h:outputText value="#{item[0].horaEnvio}" />
    </p:column>
                        
    <p:column headerText="Fecha y hora de cumplimiento">
        <h:outputText value="#{item[0].horaRecibido}" />
    </p:column>
                        
    <p:column headerText="Tiempo Restante">
        <h:outputText value="1 dia con x horas" />
    </p:column>
                        
    <p:column  headerText="Â¿Aceptas?" style="margin: none">
    <h:form id="formAceptar">
        <p:selectOneRadio id="Promesa" value="#{MbEnviarMensaje.promesa}" layout="grid" columns="1">
            <f:selectItem itemLabel="Si" itemValue="1"  />
            <f:selectItem itemLabel="No" itemValue="2" />
            <f:selectItem itemLabel="Si condicional" itemValue="3"/>         
        </p:selectOneRadio>
         <p:calendar id="datetime2" value="#{MbEnviarMensaje.fecha2}" pattern="MM/dd/yyyy HH:mm:ss" />
        
         <p:commandButton value="Aceptar" update="formAceptar" oncomplete="#{MbEnviarMensaje.responderMensaje}">
             <f:setPropertyActionListener value="#{item[0].idMensajes}" target="#{MbEnviarMensaje.targerMensaje}" />
         </p:commandButton>
    </h:form>    
    </p:column>
    
          
</p:dataTable>
<h3 align="center">En Procreso</h3>
<p:dataTable var="item" paginator="true" rows="2" value="#{MbEnviarMensaje.byListaReceptorProceso}">
    
    <p:column headerText="ID">
        <h:outputText value="#{item[0].idMensajes} " />
    </p:column>
    
    <p:column headerText="Emisor">
        <h:outputText value="#{item[2].nombreUsu} " /><h:outputText value="#{item[2].apellidoPaterno} " /> <h:outputText value="#{item[2].apellidoMaterno}" />
    </p:column>
                        
    <p:column headerText="Mensaje/peticion">
        <h:outputText value="#{item[0].peticion} " />
    </p:column>
        
    <p:column headerText="Fecha y hora de envio">
        <h:outputText value="#{item[0].horaEnvio}" />
    </p:column>
                        
    <p:column headerText="Fecha y hora de cumplimiento">
        <h:outputText value="#{item[0].horaRecibido}" />
    </p:column>
                        
    <p:column headerText="Tiempo Restante">
        <h:outputText value="1 dia con x horas" />
    </p:column>
                               
</p:dataTable>
<h3 align="center">No</h3>
<p:dataTable var="item" paginator="true" rows="2" value="#{MbEnviarMensaje.byListaReceptorNo}">
    
    <p:column headerText="ID">
        <h:outputText value="#{item[0].idMensajes} " />
    </p:column>
    
    <p:column headerText="Emisor">
        <h:outputText value="#{item[2].nombreUsu} " /><h:outputText value="#{item[2].apellidoPaterno} " /> <h:outputText value="#{item[2].apellidoMaterno}" />
    </p:column>
                        
    <p:column headerText="Mensaje/peticion">
        <h:outputText value="#{item[0].peticion} " />
    </p:column>
        
    <p:column headerText="Fecha y hora de envio">
        <h:outputText value="#{item[0].horaEnvio}" />
    </p:column>
                        
    <p:column headerText="Fecha y hora de cumplimiento">
        <h:outputText value="#{item[0].horaRecibido}" />
    </p:column>
                        
    <p:column headerText="Tiempo Restante">
        <h:outputText value="1 dia con x horas" />
    </p:column>
                               
</p:dataTable>

<h3 align="center">Si COndicional en espera</h3>
<p:dataTable var="item" paginator="true" rows="2" value="#{MbEnviarMensaje.byListaReceptorSiCondicional}">
    
    <p:column headerText="ID">
        <h:outputText value="#{item[0].idMensajes} " />
    </p:column>
    
    <p:column headerText="Emisor">
        <h:outputText value="#{item[2].nombreUsu} " /><h:outputText value="#{item[2].apellidoPaterno} " /> <h:outputText value="#{item[2].apellidoMaterno}" />
    </p:column>
                        
    <p:column headerText="Mensaje/peticion">
        <h:outputText value="#{item[0].peticion} " />
    </p:column>
        
    <p:column headerText="Fecha y hora de envio">
        <h:outputText value="#{item[0].horaEnvio}" />
    </p:column>
                        
    <p:column headerText="Fecha y hora que fueron propuestas">
        <h:outputText value="#{item[0].horaRecibido}" />
    </p:column>
    
    <p:column headerText="Nueva fecha y hora a cumplir">
        <h:outputText value="#{item[0].tiempoProceso}" />
    </p:column>
                        
    <p:column headerText="Tiempo Restante">
        <h:outputText value="1 dia con x horas" />
    </p:column>
                               
</p:dataTable>
            </ui:define>

        </ui:composition>

    </body>
</html>
